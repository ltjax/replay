sudo: required
services:
  - docker
  
before_install:
  - docker pull ubuntu:bionic
  - docker run -itd --name build ubuntu:bionic

script:
  - docker exec build apt-get update > /dev/null
  - docker exec build apt-get dist-upgrade -y > /dev/null
  - docker exec build apt-get install git build-essential cmake libboost-all-dev libpng-dev -y > /dev/null
  - docker exec build git clone https://github.com/ltjax/replay.git /source
  - docker exec build cmake -DCMAKE_BUILD_TYPE=Release -DREPLAY_USE_STBIMAGE=OFF -DREPLAY_ENABLE_UNIT_TESTS=OFF -B/build -H/source
  - docker exec build cmake --build /build
